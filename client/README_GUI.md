# VPN Client GUI - ุฑุงูููุง ฺฉุงูู

ุฑุงุจุท ฺฏุฑุงูฺฉ VPN Client ุจุง PySide6 (Qt6)

---

## ๐จ ูฺฺฏโูุง UI

### โ ูพุงุฏูโุณุงุฒ ุดุฏู

1. **Dark Theme Modern**
   - ุทุฑุงุญ ุงููุงูโฺฏุฑูุชู ุงุฒ Windows 11
   - ุฑูฺฏโุจูุฏ ุญุฑููโุง
   - ูููุช Segoe UI

2. **Connection Button ุจุง ุงููุดู**
   - ุญุงูุช ูุทุน: ุขุจ "ุงุชุตุงู"
   - ุญุงูุช ุฏุฑ ุญุงู ุงุชุตุงู: ูุงุฑูุฌ ูพุงูุณโุฏุงุฑ
   - ุญุงูุช ูุชุตู: ูุฑูุฒ "ูุทุน ุงุชุตุงู"

3. **Status Widget**
   - ููุงุด ูุถุนุช (ูุทุน ุดุฏูุ ุฏุฑ ุญุงู ุงุชุตุงูุ ูุชุตูุ ุฎุทุง)
   - ููุงุด IP ุฏุฑุงูุช
   - ููุงุด ุขุฏุฑุณ ุณุฑูุฑ
   - ุดูุงุฑูุฏู ุฒูุงู ุงุชุตุงู (Uptime)

4. **Statistics Widget**
   - ุญุฌู ุงุฑุณุงู/ุฏุฑุงูุช (ุจุง ูุฑูุช ุฎูุงูุง)
   - ุชุนุฏุงุฏ ุจุณุชูโูุง ุงุฑุณุงู/ุฏุฑุงูุช
   - ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ูุฑ 2 ุซุงูู

5. **Log Viewer**
   - ูุงฺฏโูุง ุฑูฺฏ ุจุฑ ุงุณุงุณ ุณุทุญ (INFO, WARNING, ERROR)
   - ุงุณฺฉุฑูู ุฎูุฏฺฉุงุฑ
   - ูุญุฏูุฏุช 1000 ุฎุท
   - ุฏฺฉูู ูพุงฺฉ ฺฉุฑุฏู

6. **System Tray Icon**
   - Minimize to tray
   - ุงุชุตุงู/ูุทุน ุณุฑุน ุงุฒ Tray
   - Notificationโูุง
   - ุฏุงุจูโฺฉูฺฉ ุจุฑุง ููุงุด ูพูุฌุฑู

7. **Menu Bar**
   - ููู ูุงู (ุชูุธูุงุชุ ุฎุฑูุฌ)
   - ููู ุฑุงูููุง (ุฏุฑุจุงุฑู)

8. **Thread-Safe Architecture**
   - AsyncRunner ุจุฑุง ุงุฌุฑุง Core ุฏุฑ thread ุฌุฏุงฺฏุงูู
   - SignalBridge ุจุฑุง ุชุจุฏู callback ุจู Qt Signal
   - UI ููุดู responsive

---

## ๐ ุณุงุฎุชุงุฑ GUI

```
client/gui/
โโโ main_window.py              # ูพูุฌุฑู ุงุตู
โโโ system_tray.py              # System tray icon
โโโ gui_main.py                 # ููุทู ูุฑูุฏ GUI (ุงุตู)
โ
โโโ widgets/                    # ูุฌุชโูุง ุณูุงุฑุด
โ   โโโ connection_button.py    # ุฏฺฉูู ุงุชุตุงู ุจุง ุงููุดู
โ   โโโ status_widget.py        # ููุงุด ูุถุนุช
โ   โโโ stats_widget.py         # ููุงุด ุขูุงุฑ
โ   โโโ log_viewer.py           # ููุงุด ูุงฺฏ
โ
โโโ styles/                     # Stylesheets
โ   โโโ dark_theme.qss          # Dark theme (Qt stylesheet)
โ
โโโ utils/                      # ุงุจุฒุงุฑูุง GUI
โ   โโโ signal_bridge.py        # ูพู ุจู Core ู Qt
โ   โโโ async_runner.py         # ุงุฌุฑุง async ุฏุฑ thread ุฌุฏุงฺฏุงูู
โ
โโโ resources/                  # ููุงุจุน (ุขฺฉููโูุง ู ...)
```

---

## ๐ ูุตุจ ู ุงุฌุฑุง

### ูุฑุญูู 1: ูุตุจ Dependencies

```powershell
# ูุตุจ PySide6 ู ุณุงุฑ dependencies
pip install -r requirements.txt
```

### ูุฑุญูู 2: ุงุฌุฑุง GUI

```powershell
# ุงุฌุฑุง ุจุง ุฏุณุชุฑุณ Administrator
python gui_main.py
```

ุง:

```powershell
python gui_main.py --config client_config.yaml
```

---

## ๐ฏ ูุญูู ุงุณุชูุงุฏู

### 1. ุงููู ุจุงุฑ

1. ูุงู `client_config.yaml` ุฑุง ูุฑุงุด ฺฉูุฏ:
   ```yaml
   server:
     host: "YOUR_SERVER_IP"
   auth:
     username: "admin"
     password: "your_password"
   ```

2. ุจุฑูุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ:
   ```powershell
   python gui_main.py
   ```

### 2. ุงุชุตุงู

1. ุฏฺฉูู **ุงุชุตุงู** ุฑุง ฺฉูฺฉ ฺฉูุฏ
2. ููุชุธุฑ ุจูุงูุฏ ุชุง ูุถุนุช ุจู **ูุชุตู** ุชุบุฑ ฺฉูุฏ
3. IP ุฏุฑุงูุช ููุงุด ุฏุงุฏู ูโุดูุฏ
4. ุขูุงุฑ ุดุฑูุน ุจู ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ

### 3. ูุทุน ุงุชุตุงู

1. ุฏฺฉูู **ูุทุน ุงุชุตุงู** ุฑุง ฺฉูฺฉ ฺฉูุฏ
2. ุงุชุตุงู ูุทุน ูโุดูุฏ

### 4. Minimize to Tray

1. ุฏฺฉูู Minimize ูพูุฌุฑู ุฑุง ฺฉูฺฉ ฺฉูุฏ
2. ุจุฑูุงูู ุจู System Tray ูโุฑูุฏ
3. ุฏุงุจูโฺฉูฺฉ ุฑู ุขฺฉูู Tray ุจุฑุง ููุงุด ูุฌุฏุฏ

---

## ๐ง ูุนูุงุฑ

### Thread Model

```
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Qt Main Thread    โ  โ GUI (MainWindow, Widgets)
โ   (Event Loop)      โ
โโโโโโโโโโโโฌโโโโโโโโโโโ
           โ
           โ Qt Signals
           โผ
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Signal Bridge     โ  โ ุชุจุฏู Callbacks ุจู Signals
โโโโโโโโโโโโฌโโโโโโโโโโโ
           โ
           โ Thread-safe calls
           โผ
โโโโโโโโโโโโโโโโโโโโโโโ
โ   Async Thread      โ  โ ConnectionManager (asyncio)
โ   (AsyncRunner)     โ     TunnelClient, Network Managers
โโโโโโโโโโโโโโโโโโโโโโโ
```

### Signal Flow

```
Core Event โ Callback โ SignalBridge โ Qt Signal โ Slot (UI Update)
```

ูุซุงู:
```
Connection Success โ on_connected() โ signals.connection_success.emit() 
โ _on_connection_success() โ Update UI
```

---

## ๐จ Dark Theme

### ุฑูฺฏโุจูุฏ

- **Background:** `#1e1e1e` (ุชุฑู)
- **Widget Background:** `#2d2d30`
- **Border:** `#3f3f46`
- **Text:** `#e0e0e0`
- **Accent (Primary):** `#0e639c` (ุขุจ)
- **Success:** `#4ec9b0` (ุณุจุฒ ุขุจ)
- **Warning:** `#ca5010` (ูุงุฑูุฌ)
- **Error:** `#f48771` (ูุฑูุฒ)

### Customization

ุจุฑุง ุชุบุฑ ุงุณุชุงูุ ูุงู `gui/styles/dark_theme.qss` ุฑุง ูุฑุงุด ฺฉูุฏ.

---

## ๐ ุนุจโุงุจ

### 1. ุฎุทุง "PySide6 not found"

```powershell
pip install PySide6==6.6.1
```

### 2. GUI ููุงุด ุฏุงุฏู ููโุดูุฏ

ุจุฑุฑุณ ฺฉูุฏ:
- Python 3.11+ ูุตุจ ุงุณุชุ
- `client_config.yaml` ูุฌูุฏ ุฏุงุฑุฏุ

### 3. ุฏฺฉูู Connect ฺฉุงุฑ ููโฺฉูุฏ

ุจุฑุฑุณ ูุงฺฏโูุง ุฏุฑ ูพูุฌุฑู Log Viewer ุง ูุงู `vpn_client.log`

### 4. Theme ุงุนูุงู ููโุดูุฏ

ูุทูุฆู ุดูุฏ ูุงู `gui/styles/dark_theme.qss` ูุฌูุฏ ุฏุงุฑุฏ.

---

## ๐ ุญุงูุชโูุง UI

### ConnectionButton States

| ุญุงูุช | ุฑูฺฏ | ูุชู | ูุงุจู ฺฉูฺฉ |
|------|-----|-----|-----------|
| Disconnected | ุขุจ | ุงุชุตุงู | โ |
| Connecting | ูุงุฑูุฌ (ูพุงูุณ) | ุฏุฑ ุญุงู ุงุชุตุงู... | โ |
| Connected | ูุฑูุฒ | ูุทุน ุงุชุตุงู | โ |

### StatusWidget States

| ุญุงูุช | ุฑูฺฏ | ุชูุถุญุงุช |
|------|-----|---------|
| ูุทุน ุดุฏู | ุฎุงฺฉุณุชุฑ | IP: --- |
| ุฏุฑ ุญุงู ุงุชุตุงู | ูุงุฑูุฌ | IP: --- |
| ูุชุตู | ุณุจุฒ | IP: 10.8.0.X, Uptime |
| ุฎุทุง | ูุฑูุฒ | ูพุงู ุฎุทุง |

---

## โก ุจูููโุณุงุฒ

### Performance Tips

1. **Statistics Update Interval**
   - ูุนู: 2 ุซุงูู
   - ูุงุจู ุชูุธู ุฏุฑ `main_window.py` โ `self.stats_timer.start(2000)`

2. **Log Viewer Max Lines**
   - ูุนู: 1000 ุฎุท
   - ูุงุจู ุชูุธู ุฏุฑ `log_viewer.py` โ `MAX_LINES = 1000`

3. **Memory Usage**
   - GUI ุญุฏูุฏ 50-80 MB RAM
   - Core ุญุฏูุฏ 20-30 MB RAM

---

## ๐ฎ ุชูุณุนู ุขูุฏู

### ุฏุฑ ูุณุฎูโูุง ุจุนุฏ:

- [ ] **Settings Dialog** - ูพูุฌุฑู ุชูุธูุงุช ฺฉุงูู
- [ ] **Custom Icons** - ุขฺฉููโูุง ุณูุงุฑุด
- [ ] **Connection Animation** - ุงููุดูโูุง ูพุดุฑูุชูโุชุฑ
- [ ] **Charts** - ูููุฏุงุฑูุง ุชุฑุงูฺฉ (Real-time)
- [ ] **Multiple Profiles** - ูพุฑููุงูโูุง ูุฎุชูู ุณุฑูุฑ
- [ ] **Auto-start** - ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุจุง Windows
- [ ] **Split Tunneling UI** - ุฑุงุจุท ฺฏุฑุงูฺฉ ุจุฑุง Split Tunneling
- [ ] **Themes** - ุชูโูุง ูุฎุชูู (Light Mode)

---

## ๐ ูฺฉุงุช ุชูุณุนู

### ุงูุฒูุฏู Widget ุฌุฏุฏ

1. ูุงู ูุฌุช ุฑุง ุฏุฑ `gui/widgets/` ุงุฌุงุฏ ฺฉูุฏ
2. ุงุฒ `QWidget` ุงุฑุซโุจุฑ ฺฉูุฏ
3. ุฏุฑ `gui/widgets/__init__.py` ุงุถุงูู ฺฉูุฏ
4. ุฏุฑ `main_window.py` ุงุณุชูุงุฏู ฺฉูุฏ

### ุงูุฒูุฏู Signal ุฌุฏุฏ

1. ุฏุฑ `signal_bridge.py` โ `VPNSignals` ุณฺฏูุงู ุฑุง ุชุนุฑู ฺฉูุฏ:
   ```python
   new_signal = Signal(str)
   ```

2. ุฏุฑ `SignalBridge` ูุชุฏ callback ุงุถุงูู ฺฉูุฏ:
   ```python
   def on_new_event(self, data: str):
       self.signals.new_signal.emit(data)
   ```

3. ุฏุฑ `main_window.py` ุจู ุณฺฏูุงู ูุชุตู ุดูุฏ:
   ```python
   self.signals.new_signal.connect(self._on_new_event)
   ```

---

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ฺฏุฒุงุฑุด ุจุงฺฏ ุง ูพุดููุงุฏ ูุงุจูุช ุฌุฏุฏ ุฏุฑ UIุ ูุทูุงู Issue ุงุฌุงุฏ ฺฉูุฏ.

---

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุจุฑุง ุงุณุชูุงุฏู ุดุฎุต ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช.
